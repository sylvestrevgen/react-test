(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[4],{116:function(t,e,n){t.exports={postPage:"singlePostPage_postPage__b8CX4",buttons:"singlePostPage_buttons__2NRhy"}},117:function(t,e,n){t.exports={post:"singlePost_post__1eFg8",title:"singlePost_title__3AYj0",body:"singlePost_body__3PGlU"}},118:function(t,e,n){t.exports={title:"commentsList_title__jzavq",listWrap:"commentsList_listWrap__2HoGL"}},119:function(t,e,n){t.exports={comment:"commentsListItem_comment__13n5H"}},120:function(t,e,n){t.exports={form:"commentEditor_form__-19yO",input:"commentEditor_input__ty2Py"}},121:function(t,e,n){"use strict";n.r(e);var a=n(14),o=n(25),r=n(81),c=n(77),s=n(78),i=n(80),u=n(79),l=n(82),p=n(0),m=n.n(p),d=n(116),f=n.n(d),b=n(117),y=n.n(b),h=n(118),_=n.n(h),E=n(119),S=n.n(E),g=function(t){var e=t.body;return m.a.createElement("div",{className:S.a.comment},m.a.createElement("p",{className:S.a.title},e))};g.defaultProps={body:""};var O=g,P=n(29),v=function(t){var e=t.comments;return m.a.createElement("div",{className:_.a.listWrap},m.a.createElement("h3",{className:_.a.title},"Comments:"),0===e.length?m.a.createElement(P.a,{label:"There are no comments for this post yet."}):m.a.createElement("ul",{className:_.a.list},e.map((function(t){return m.a.createElement("li",{key:t.id},m.a.createElement(O,{body:t.body}))}))))};v.defaultProps={comments:[]};var C=v,T=n(23),j=n(10),R=n(120),A=n.n(R),D=n(76),N=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={body:""},n.handleChange=function(t){n.setState({body:t.target.value})},n.handleSubmit=function(t){t.preventDefault();var e=n.state.body,a=n.props,o=a.match,r=a.onAddComment;return""===e?T.b.error("You can't add empty comment!"):(r(o.params.id,e),n.setState({body:""}))},n}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.state.body;return m.a.createElement("form",{className:A.a.form,onSubmit:this.handleSubmit},m.a.createElement("input",{type:"text",value:t,onChange:this.handleChange,className:A.a.input}),m.a.createElement(D.a,{type:"submit",label:"Add comment"}))}}]),e}(p.Component);N.defaultProps={onAddComment:function(){return null}};var k=Object(j.g)(N),U=function(t){var e=t.post,n=t.onAddComment;return m.a.createElement("article",{className:y.a.post},m.a.createElement("h2",{className:y.a.title},e.title),m.a.createElement("p",{className:y.a.body},e.body),m.a.createElement(C,{comments:e.comments}),m.a.createElement(k,{onAddComment:n}))};U.defaultProps={post:{},onAddComment:function(){return null}};var L=Object(a.b)(null,(function(t){return{onAddComment:function(e,n){return t(Object(r.a)(e,n))}}}))(U),x=n(83),F=n(26),w=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={isEditing:!1},n.handleReturnClick=function(){n.props.history.push("/posts")},n.handleToggleEditPost=function(){n.setState((function(t){return{isEditing:!t.isEditing}}))},n.handleUpdatePost=function(t){var e=n.props;(0,e.onUpdatePost)(t,e.match.params.id),n.setState({isEditing:!1})},n}return Object(l.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this.props;(0,t.onFetchSinglePost)(t.match.params.id)}},{key:"render",value:function(){var t=this.props,e=t.post,n=t.isLoading,a=this.state.isEditing;return m.a.createElement("section",{className:f.a.postPage},m.a.createElement("div",{className:f.a.buttons},m.a.createElement(D.a,{label:"Return",onClick:this.handleReturnClick,customStyles:{marginBottom:"30px"}}),m.a.createElement(D.a,{label:a?"Cancel":"Edit post",customStyles:{marginBottom:"30px"},onClick:this.handleToggleEditPost})),a&&m.a.createElement(x.a,{title:e.title,body:e.body,onSave:this.handleUpdatePost}),n?m.a.createElement(F.a,null):m.a.createElement(L,{post:e}))}}]),e}(p.Component);w.defaultProps={post:{},isLoading:!1,onFetchSinglePost:function(){return null},onUpdatePost:function(){return null}};e.default=Object(a.b)((function(t){return{post:o.c(t),isLoading:o.d(t)}}),(function(t){return{onFetchSinglePost:function(e){return t(Object(r.e)(e))},onUpdatePost:function(e,n){return t(Object(r.f)(e,n))}}}))(w)},76:function(t,e,n){"use strict";var a=n(0),o=n.n(a),r=n(85),c=n.n(r),s=function(t){var e=t.type,n=t.label,a=t.onClick,r=t.customStyles;return o.a.createElement("button",{type:e,onClick:a,className:c.a.button,style:r},n)};s.defaultProps={label:"",type:"button",customStyles:{},onClick:function(){return null}},e.a=s},81:function(t,e,n){"use strict";var a=n(86),o=n.n(a),r=n(23),c=(n(95),n(3));n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"f",(function(){return p})),n.d(e,"a",(function(){return m}));var s=function(){return function(t){t({type:c.a.FETCH_POSTS_START}),o.a.get("https://bloggy-api.herokuapp.com/posts").then((function(e){return t((n=e.data,{type:c.a.FETCH_POSTS_SUCCESS,payload:{posts:n}}));var n})).catch((function(e){return t(function(t){return{type:c.a.FETCH_POSTS_ERROR,payload:{error:t}}}(e))}))}},i=function(t){return function(e){e({type:c.a.FETCH_SINGLE_POST_START}),o.a.get("https://bloggy-api.herokuapp.com/posts/".concat(t,"?_embed=comments")).then((function(t){return e((n=t.data,{type:c.a.FETCH_SINGLE_POST_SUCCESS,payload:{singlePost:n}}));var n})).catch((function(t){return e(function(t){return{type:c.a.FETCH_SINGLE_POST_ERROR,payload:{error:t}}}(t))}))}},u=function(t){return function(e){e({type:c.a.DELETE_POST_START}),o.a.delete("https://bloggy-api.herokuapp.com/posts/".concat(t)).then((function(){e(function(t){return{type:c.a.DELETE_POST_SUCCESS,payload:{id:t}}}(t)),r.b.success("Post deleted!")})).catch((function(t){return e({type:c.a.DELETE_POST_ERROR})}))}},l=function(t){return function(e){e({type:c.a.ADD_POST_START}),o.a.post("https://bloggy-api.herokuapp.com/posts",t).then((function(t){e(function(t){return{type:c.a.ADD_POST_SUCCESS,payload:{post:t}}}(t.data)),r.b.success("Post added!")})).catch((function(t){return e(function(t){return{type:c.a.ADD_POST_ERROR,payload:{error:t}}}(t))}))}},p=function(t,e){return function(n){n({type:c.a.UPDATE_POST_START}),o.a.put("https://bloggy-api.herokuapp.com/posts/".concat(e),t).then((function(t){n(function(t){return{type:c.a.UPDATE_POST_SUCCESS,payload:{post:t}}}(t.data)),r.b.success("Post updated!")})).catch((function(t){return n(function(t){return{type:c.a.UPDATE_POST_ERROR,payload:{error:t}}}(t))}))}},m=function(t,e){return function(n){n({type:c.a.ADD_COMMENT_START}),o.a.post("https://bloggy-api.herokuapp.com/comments",{postId:t,body:e}).then((function(t){var e;n((e=t.data,{type:c.a.ADD_COMMENT_SUCCESS,payload:{comment:e}})),r.b.success("Comment added!")})).catch((function(t){return n(function(t){return{type:c.a.ADD_COMMENT_ERROR,payload:{error:t}}}(t))}))}}},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var a=n(24),o=n(77),r=n(78),c=n(80),s=n(79),i=n(82),u=n(0),l=n.n(u),p=n(23),m=n(84),d=n.n(m),f=n(76);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var y=function(t){function e(){var t,n;Object(o.a)(this,e);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(n=Object(c.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(i)))).state={title:n.props.title,body:n.props.body},n.handleChange=function(t){n.setState(Object(a.a)({},t.target.name,t.target.value))},n.handleSubmit=function(t){return t.preventDefault(),""===n.state.title||""===n.state.body?p.b.error("Fill in all the fields!"):(n.props.onSave(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(n,!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n.state)),n.setState({title:"",body:""}))},n}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.state,e=t.title,n=t.body;return l.a.createElement("form",{className:d.a.form,onSubmit:this.handleSubmit},l.a.createElement("input",{type:"text",name:"title",value:e,onChange:this.handleChange,className:d.a.title,placeholder:"Typing title here..."}),l.a.createElement("textarea",{name:"body",value:n,onChange:this.handleChange,className:d.a.body,placeholder:"Typing body here..."}),l.a.createElement(f.a,{type:"submit",label:"Save Post"}))}}]),e}(u.Component);y.defaultProps={title:"",body:"",onSave:function(){return null}}},84:function(t,e,n){t.exports={form:"postEditor_form__2CD7N",title:"postEditor_title__2s-ee",body:"postEditor_body__3gWk1"}},85:function(t,e,n){t.exports={button:"button_button__2pFT2"}}}]);
//# sourceMappingURL=single-post-page.a9b4a010.chunk.js.map